---
title: dockerå¸¸ç”¨å‘½ä»¤
date: 2022-02-04 14:53:18 +0800
category: åŸºç¡€çŸ¥è¯†ä¸é—®é¢˜æŠ€å·§
tags: docker
excerpt: å…³äºdockerçš„ä¸€äº›å¸¸ç”¨å‘½ä»¤
---



## dockerå¸¸ç”¨å‘½ä»¤

### :icecream:å¸¸ç”¨å‘½ä»¤

```dockerfile
# å¸è½½ä¾èµ–
yum remove docker-ce docker-ce-cli containerd.io
# åˆ é™¤èµ„æº
rm -rf /var/lib/docker

# å¯åŠ¨docker
systemctl start docker
# æŸ¥çœ‹dockerçŠ¶æ€
systemctl status docker
# åœæ­¢docker
systemctl stop docker
# é‡å¯docker
systemctl restart docker
# å¼€æœºè‡ªåŠ¨å¯åŠ¨docker
systemctl enable docker
# é€€å‡ºdocker
exit

# æŸ¥çœ‹ç‰ˆæœ¬ä¿¡æ¯
docker version
# æ˜¾ç¤ºç»Ÿä¿¡æ¯ï¼ŒåŒ…æ‹¬é•œåƒå’Œå®¹å™¨æ•°
docker info
# å¸®åŠ©å‘½ä»¤
docker --help

# æŸ¥çœ‹é•œåƒ
docker images [OPTIONS] [REPOSITORY[:TAG]]
[OPTIONS]:
-a:åˆ—å‡ºæœ¬åœ°æ‰€æœ‰çš„é•œåƒ(å«ä¸­é—´æ˜ åƒå±‚ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œè¿‡æ»¤æ‰ä¸­é—´æ˜ åƒå±‚)ï¼›
--digests:æ˜¾ç¤ºé•œåƒçš„æ‘˜è¦ä¿¡æ¯ï¼›
-f:æ˜¾ç¤ºæ»¡è¶³æ¡ä»¶çš„é•œåƒï¼›
--format:æŒ‡å®šè¿”å›å€¼çš„æ¨¡æ¿æ–‡ä»¶ï¼›
--no-trunc:æ˜¾ç¤ºå®Œæ•´çš„é•œåƒä¿¡æ¯ï¼›
-q:åªæ˜¾ç¤ºé•œåƒIDï¼›
REPOSITORY    # é•œåƒä»“åº“
TAG           # é•œåƒæ ‡ç­¾
IMAGE ID      # é•œåƒID
CREATED       # é•œåƒåˆ›å»ºæ—¶é—´
SIZE          # é•œåƒå¤§å°

# æœç´¢é•œåƒæ–‡ä»¶
docker search redis
NAME          # é•œåƒä»“åº“æºçš„åç§°
DESCRIPTION   # é•œåƒçš„æè¿°
OFFICIAL      # æ˜¯å¦ docker å®˜æ–¹å‘å¸ƒ
stars         # ç±»ä¼¼ Github é‡Œé¢çš„ starï¼Œè¡¨ç¤ºç‚¹èµã€å–œæ¬¢çš„æ„æ€
AUTOMATED     # è‡ªåŠ¨æ„å»ºã€‚

# åˆ é™¤å•ä¸ªé•œåƒ
docker rmi -f é•œåƒID
# åˆ é™¤æ‰€æœ‰é•œåƒ
docker rmi `docker images -q`
# æ‹‰å–é•œåƒ
docker pull é•œåƒå:ç‰ˆæœ¬å·

# å¯åŠ¨é•œåƒ
docker run -it REPOSITORY /bin/bash      ## åˆ›å»ºå®¹å™¨æ‰“å¼€shellçª—å£ï¼Œä¼šè‡ªåŠ¨è¿›å…¥dockerå®¹å™¨å†…éƒ¨
docker run -id --name=å®¹å™¨IDæˆ–è€…å®¹å™¨å     ## åå°è¿è¡Œå®¹å™¨ä¸è‡ªåŠ¨è¿›å…¥
docker exec -it å®¹å™¨IDæˆ–è€…å®¹å™¨å bin/bash  ## è¿›å…¥æŒ‡å®šå®¹å™¨
--name="å®¹å™¨æ–°åå­—": ä¸ºå®¹å™¨æŒ‡å®šä¸€ä¸ªåç§°ï¼›
-d: åå°è¿è¡Œå®¹å™¨ï¼Œå¹¶è¿”å›å®¹å™¨IDï¼Œä¹Ÿå³å¯åŠ¨å®ˆæŠ¤å¼å®¹å™¨ï¼›
-iï¼šä»¥äº¤äº’æ¨¡å¼è¿è¡Œå®¹å™¨ï¼Œé€šå¸¸ä¸ -t åŒæ—¶ä½¿ç”¨ï¼›
-tï¼šä¸ºå®¹å™¨é‡æ–°åˆ†é…ä¸€ä¸ªä¼ªè¾“å…¥ç»ˆç«¯ï¼Œé€šå¸¸ä¸ -i åŒæ—¶ä½¿ç”¨ï¼›
-P: éšæœºç«¯å£æ˜ å°„ï¼›
-p: æŒ‡å®šç«¯å£æ˜ å°„ï¼›
# æ³¨:å‘½ä»¤æœ€åå‚æ•° /bin/bashï¼ŒæŒ‡è¿›å…¥å®¹å™¨æ—¶æ‰§è¡Œçš„å‘½ä»¤ï¼ˆcommandï¼‰

# æŸ¥çœ‹æ­£åœ¨è¿è¡Œå®¹å™¨
docker ps
# æŸ¥çœ‹å®¹å™¨ä¿¡æ¯ 
docker inspect å®¹å™¨IDæˆ–è€…å®¹å™¨å
# æŸ¥çœ‹æ‰€æœ‰å®¹å™¨
docker ps -a
# å¯åŠ¨å®¹å™¨
docker start å®¹å™¨IDæˆ–è€…å®¹å™¨å
# é‡å¯å®¹å™¨
docker restart å®¹å™¨IDæˆ–è€…å®¹å™¨å
# åœæ­¢å®¹å™¨
docker stop å®¹å™¨IDæˆ–è€…å®¹å™¨å
# å¼ºåˆ¶åœæ­¢å®¹å™¨
docker kill å®¹å™¨IDæˆ–è€…å®¹å™¨å
# åœç”¨å…¨éƒ¨è¿è¡Œä¸­çš„å®¹å™¨
docker kill $(docker ps -a -q)
# åˆ é™¤å•ä¸ªå®¹å™¨
docker rm å®¹å™¨ID
# åˆ é™¤å…¨éƒ¨å®¹å™¨
docker rm $(docker ps -aq)
```

---

### ğŸ‘‹å‚è€ƒ

- [docker Reference documentation](https://docs.docker.com/reference/ 'ç‚¹å‡»é“¾æ¥å‰å¾€')

- [Docker å®šåˆ¶å®¹å™¨é•œåƒçš„2ç§æ–¹æ³•](https://www.cnblogs.com/hanyifeng/p/6116067.html 'ç‚¹å‡»é“¾æ¥å‰å¾€')        

